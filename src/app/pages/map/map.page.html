<ion-header>
  <ion-toolbar>
    <ion-title>Mapa</ion-title>
    <!-- Botón de lupa para mostrar/ocultar la barra de búsqueda -->
    <ion-buttons slot="end">
      <ion-button (click)="toggleSearch()">
        <ion-icon name="search-outline" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <!-- Barra de búsqueda -->
  <div *ngIf="isSearchVisible" class="search-container">
    <ion-item>
      <ion-label position="floating">Busca una ubicación</ion-label>
      <ion-input
        [(ngModel)]="searchQuery"
        (ionInput)="searchChange()"
        placeholder="Escribe una dirección"
      ></ion-input>
    </ion-item>

    <!-- Lista de sugerencias -->
    <ion-list *ngIf="suggestions.length > 0">
      <ion-item
        *ngFor="let suggestion of suggestions"
        (click)="selectSuggestion(suggestion)"
      >
        {{ suggestion.display_name }}
      </ion-item>
    </ion-list>
  </div>

  <!-- Mapa -->
  <div id="map" style="height: calc(100vh - 56px);"></div>
</ion-content>
